---
layout: post
title: "Git ç›¸å…³"
description: "ç»§ç»­ç¥ˆç¥·é™ˆå·¥ä¿ä½‘æˆ‘ä»¬èƒ½å®Œæˆæ¯å¤©çš„äº§å€¼."
date: 2019-10-22
tags: [æé«˜å§¿åŠ¿æ°´å¹³,å·¥å…·]
comments: true
share: true
---

> ç»§ç»­ç¥ˆç¥·é™ˆå·¥ä¿ä½‘æˆ‘ä»¬èƒ½å®Œæˆæ¯å¤©çš„äº§å€¼.

æ˜¨å¤©æ™šä¸Šå¤ªç´¯äº†, åªå†™äº†ä¸ªå¼€å¤´å°±èººä¸‹äº†. ä»Šå¤©æŠŠè¿™ä¸ªå†™å®Œ.

ä¹‹å‰æˆ‘å¸æœ‰ä¸ªç¨å¾®ä¼šä¸€ç‚¹å„¿ Git çš„å°å“¥, ä½†æ˜¯å·²ç»è·‘è·¯äº†. åæ‚”æ²¡å¥½å¥½çæƒœ; å‰©ä¸‹çš„äººéƒ½æ²¡å¿…è¦ç”¨ Git, ç”šè‡³éƒ½æ²¡å¬è¿‡ GitğŸ˜‚ä¹‹å‰è´è€ç»ç†ä¹Ÿä¸ç”¨ Git, å€’æ˜¯çŸ¥é“ä» GitHub ä¸Šä¸‹ä»£ç ; è‡³äºæˆ‘è‡ªå·±æ˜¯å•æ‰“ç‹¬æ–—çŒ›å¦‚è™, å’Œäººå¼€å›¢é›¶è¾“å‡ºğŸ˜‚

åè½¦æ²¡äº‹å„¿çš„æ—¶å€™æ‰“ç®—çœ‹çœ‹: [Pro Gitï¼ˆä¸­æ–‡ç‰ˆï¼‰](https://gitee.com/progit/). æ„Ÿè§‰åŸºç¡€å®åœ¨æ˜¯æ¯”è¾ƒæŠ±æ­‰. åº”å½“è¡¥ä¸€è¡¥. ä¸»è¦æ˜¯æˆ‘å¹³æ—¶ä¸Šä¸‹ç­å¿…å®šä¼šç»è¿‡ä¸€ä¸ªè½¯ä»¶å›­, çœ‹è¿™ä¸ªæœ‰ç‚¹å„¿åƒè£… XğŸ˜‚

æ˜¨å¤©å¾€ä¸€ä½å„¿å­èŠè‹£çš„ä»“åº“æäº¤ PR. æœ¬æ¥å¯ä»¥å¾ˆå¥½, åé¢å‡ºäº†ä¸ªå²”å­, å¯¼è‡´æˆ‘è‡ªå·±ä¹Ÿä¸çŸ¥é“è‡ªå·±åœ¨å¹²ä»€ä¹ˆ, æ„Ÿè§‰æŠŠä»–å‘äº†ğŸ˜‚ä¸‹é¢æˆ‘å°½å¯èƒ½æŠŠç¢°åˆ°çš„å‘å†™ä¸€ä¸‹, ä»¥åä¸å†çŠ¯. æ¯•ç«Ÿæˆ‘è®¤ä¸ºå’Œç”¨ Git çš„äººåšåŒäº‹çš„æ¦‚ç‡æ›´é«˜ä¸€äº›.

éœ€æ±‚æ˜¯è¿™æ ·. æŠŠä¸€ä¸ªæœ¬åœ° repo å‘ä¸¤ä¸ªè¿œç«¯ repo (æ¯”å¦‚ GitHub å’Œ Gitee) push. å‘ GitHub çš„æäº¤å¥½è¯´, è¿™ä½èŠè‹£ç»™æˆ‘è¿‡äº†; ä½†æ˜¯ Gitee çš„ä¸€ç›´æäº¤ä¸ä¸Šå». æˆ‘å½“ç„¶çŸ¥é“ç†è®ºä¸Šåº”è¯¥æ˜¯å¯ä»¥ä¸€ä¸ªæœ¬åœ°å¾€ä¸¤ä¸ªè¿œç«¯åœ°æ–¹ push, ä½†æ˜¯å®è·µèµ·æ¥æœ‰å›°éš¾. å®åœ¨æ²¡åŠæ³•åªèƒ½æŠŠäººåœ¨ Gitee ä¸Šçš„ç»™ fork è¿‡æ¥åœ¨æœ¬åœ°æ”¹ç„¶åå†æäº¤äº†. è™½ç„¶ç¡®å®ç»“æœä¸Šæ˜¯ä¸€æ ·çš„, ä½†æ˜¯æ“ä½œæ‰‹æ³•æœ‰é—®é¢˜. ç„¶åå°±è¯•äº†ä¸€ä¸‹ä¸€ä¸ªæœ¬åœ°å¾€ä¸¤ä¸ªè¿œç«¯æäº¤. ä¸‹é¢è®°ä¸€ä¸‹.

ä½ è¦å‘ä¸€ä¸ªè¿œç«¯ä»“åº“æäº¤çš„æ—¶å€™, é¦–å…ˆåº”å½“å°†è¿™ä¸ªè¿œç«¯ä»“åº“åŠ å…¥è±ªå remote å¥—é¤. å‘½ä»¤æ˜¯:

(å‰æä½ è¦ `cd` åˆ°ä½ æœ¬åœ°çš„ä»“åº“çš„æ ¹ç›®å½•ä¸‹, å¦åˆ™åœ¨ä¸€ä¸ªéä»“åº“ç›®å½•çš„ pwd ä¸‹ `add` ä¼šæŠ¥:
> fatal: not a git repository (or any of the parent directories): .git

)

```bash
git remote add è¿œç«¯ä»“åº“åç§° git@ä¸»æœºåç§°:ä»“åº“æ‰€æœ‰è€…/ä»“åº“å.git
```

å…ˆå¤§æ¦‚è¿™ä¹ˆå†™ç€, å†™ä¸ªèƒ½çœ‹æ‡‚ä¼šç”¨çš„ç‰ˆæœ¬. ç­‰æŠŠ Pro Git çœ‹å·®ä¸å¤šä¹‹åå›å¤´æ”¹.

æŸ¥çœ‹è¿œç«¯ä»“åº“æœ‰å“ªäº›, å°±æ˜¯:

```bash
git remote -v
```

è¿™ä¸ª `-v` å°±ç›¸å½“äº `--verbose`, è¯ç—¨æ¨¡å¼, cocoapods çš„ä»€ä¹ˆå‘½ä»¤é‡Œå¥½åƒæœ‰è¿™ä¸ªå‚æ•°.

å¦‚æœè¦æˆ‘è¯´çš„è¯, `git remote -v` è¿™ä¸ªå‘½ä»¤åº”è¯¥æ”¾åœ¨å‰é¢ç”¨, çœ‹çœ‹ä½ ç”¨äº†å“ªäº›è¿œç«¯ä»“åº“åç§°, ä»¥å…é‡å. ä¸çŸ¥é“æ˜¯æˆ‘æ™ºå•†ä½è¿˜æ˜¯ç½‘ä¸Šå†™å¾—æœ¬æ¥å°±ä¸æ¸…æ¥šçš„é—®é¢˜, ç½‘ä¸Šè¿œç«¯ä»“åº“åŸºæœ¬ä¸€æ°´å„¿å†™çš„ origin. é‚£ä½ è¦æäº¤ä¸¤ä¸ªå²‚ä¸æ˜¯å¿…ç„¶ä¼šé‡.

ä½ æäº¤è¿œç«¯çš„æ—¶å€™(å…ˆç©çš„ GitHub, åæ¥ç”¨çš„ Gitee, ä»¥æ­¤ä¸ºä¾‹), æ³¨æ„åº”å½“é…ç½® SSH key. å¦åˆ™ä½ å‘è¿œç«¯æäº¤çš„æ—¶å€™:

```bash
git push -u è¿œç«¯ä»“åº“åç§° è¿œç«¯ä»“åº“ç›®æ ‡åˆ†æ”¯åç§°
```

ä¼šæŠ¥ç±»ä¼¼è¿™æ ·çš„é”™è¯¯:

```
git@gitee.com: Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
```

(ä»¥ Gitee ä¸ºä¾‹)æˆ‘ä»¬æ˜¯åœ¨è¿™é‡Œæ·»åŠ :

![è®¾ç½®.png](https://i.loli.net/2019/10/23/fGPdMRiN1zQhILA.png)

ç‚¹è¿›å», åœ¨ä¸‹é¢çš„ *å…¬é’¥* çš„é‚£ä¸ª `<input>` ä¸­ç²˜ä½ çš„å…¬é’¥, Gitee ä¼šä¸ºä½ è‡ªåŠ¨ç”Ÿæˆæ ‡é¢˜:

![å…¬é’¥.png](https://i.loli.net/2019/10/23/GvXxOi7ABJfEja6.png)

ä½ è‡ªå·±çš„å…¬é’¥åº”è¯¥æ˜¯è¿™ä¹ˆçœ‹:

```bash
less(cat ä¹Ÿè¡Œ, éšä¾¿, ä¸»è¦æ˜¯çœ‹æ–‡ä»¶ä½ç½®) ~/.ssh/id_rsa.pub
```

ç„¶åæŠŠé‡Œé¢çš„ä¸œè¥¿å¤åˆ¶ç²˜è´´ä¿å­˜, å…¬é’¥å°±é…ç½®å¥½äº†.

ä¸‹é¢è¯´ä¸€ä¸‹æäº¤æ ¼å¼. æˆ‘æ˜¯çœ‹çš„é˜®ä¸€å³°è€å¸ˆçš„è¿™ç¯‡ [Commit message å’Œ Change log ç¼–å†™æŒ‡å—](http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html), ä»¥åå¦‚æœçœ‹åˆ°æ›´å¥½æˆ–æ˜¯æ›´æƒå¨çš„å†æ”¹. é‚£ä½å„¿å­èŠè‹£å®¢è§‚è§’åº¦ä¸Šæäº¤æ ¼å¼å¦‚ä½•æˆ‘ä¸çŸ¥é“, åœ¨æˆ‘ç›®å‰çœ‹æ¥ç¡®å®å¾ˆæœ‰æ³•åº¦, ä¹Ÿå€¼å¾—å­¦ä¹ .

å‚è€ƒé˜…è¯»:

* [å¸¸ç”¨ Git å‘½ä»¤æ¸…å•](http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html)
* [Commit message å’Œ Change log ç¼–å†™æŒ‡å—](http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html)

å†å°±æˆ‘ç¬¬æŠŠå®‰äº†ä¸€ä¸ª commitizen:

![commitizen.png](https://i.loli.net/2019/10/23/ydjz8mwAY9VSPkX.png)

ä»¥åçœ‹çœ‹æ€ä¹ˆç”¨: [commitizen/cz-cli](https://github.com/commitizen/cz-cli).